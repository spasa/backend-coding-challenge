!function e(n,t,s){function o(r,i){if(!t[r]){if(!n[r]){var l="function"==typeof require&&require;if(!i&&l)return l(r,!0);if(a)return a(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var p=t[r]={exports:{}};n[r][0].call(p.exports,function(e){var t=n[r][1][e];return o(t||e)},p,p.exports,e,n,t,s)}return t[r].exports}for(var a="function"==typeof require&&require,r=0;r<s.length;r++)o(s[r]);return o}({1:[function(e,n,t){"use strict";e("./partials.js"),e("./expenses/main.js"),angular.module("alcExpenses",["alcShared","codingtest.partials","expenses.controllers"]).run(["$rootScope",function(e){var n={};e.config=angular.extend({angular:angular.version.full},n),e.mainTitle="",e.mainHeading="",e.contentSections=[],e.appSections=e.appSections||[],e.tabSections=e.tabSections||{},e.currentSection=[],e.selectTabSection=function(n,t){if(e.tabSections[n]){e.currentSection=angular.copy(e.tabSections[n]);for(var s=0;s<e.currentSection.length;s++)e.currentSection[s].active=s==t}}}]),$(document).ready(function(){angular.bootstrap("body",["alcExpenses"])})},{"./expenses/main.js":3,"./partials.js":4}],2:[function(e,n,t){"use strict";angular.module("expenses.controller",[]).controller("ctrlExpenses",["$rootScope","$scope","config","restalchemy",function e(n,t,s,o){n.mainTitle="Expenses",n.mainHeading="Expenses",n.selectTabSection("expenses",0);var a=o.init({root:s.apiroot}).at("expenses");t.dateOptions={changeMonth:!0,changeYear:!0,dateFormat:"dd/mm/yy"};var r=function e(){a.get().then(function(e){t.expenses=e})};t.saveExpense=function(){t.expensesform.$valid&&(t.newExpense.currency=t.newExpense.amount.replace(/\d+/g,"").trim(),t.newExpense.amount=Number(t.newExpense.amount.replace(/[^0-9\.-]+/g,"")),a.post(t.newExpense).then(function(){r()}))},t.clearExpense=function(){t.newExpense={}},t.setTax=function(){var e=Number(t.newExpense.amount.replace(/[^0-9\.-]+/g,""));t.newExpense.vat=e-e/1.2},r(),t.clearExpense()}])},{}],3:[function(e,n,t){"use strict";e("./expenses-controller.js");var s=angular.module("expenses.controllers",["expenses.controller"]);s.config(["$routeProvider",function(e){e.when("/expenses",{templateUrl:"codingtest/expenses-content.html"}),e.otherwise({redirectTo:"/expenses"})}]),s.run(["$rootScope",function(e){e.appSections=e.appSections||[],e.appSections.push({title:"Expenses",image:"img/icon-generic.png",app:"expenses"}),e.tabSections=e.tabSections||{},e.tabSections.expenses=[{title:"Expenses",app:"expenses"}]}])},{"./expenses-controller.js":2}],4:[function(e,n,t){"use strict";angular.module("codingtest.partials",[]).run(["$templateCache",function(e){e.put("codingtest/expenses-content.html",'<div ng-controller="ctrlExpenses"><h2>Expenses</h2><div bookmarklist id="bookmarks" class="section-list"></div><h3>Add an expense</h3><form name="expensesform"><ul><li><label>Date</label><input type="text" ng-required="true" ng-model="newExpense.date" ui-date="dateOptions" placeholder="dd/mm/yyyy"></li><li><label>Amount</label><input type="text" ng-required="true" ng-model="newExpense.amount" ng-change="setTax()" placeholder="00.00"></li><li><label>VAT</label><input type="text" ng-value="newExpense.vat | number: 2" readonly="true" placeholder="00.00"></li><li><label>Reason</label><textarea at-auto-resize ng-required="true" ng-model="newExpense.reason" ng-trim="false" placeholder="why oh why?"></textarea></li><li><label></label><button ng-click="saveExpense()" class="solid">Save Expense</button> <button ng-click="clearExpense()">cancel</button></li></ul></form><h3>Submitted expenses</h3><div class="list-table expenses-data"><div class="header-row"><div class="col-4">Date</div><div class="col-4 figures">Amount (inc. VAT)</div><div class="col-2 figures">VAT</div><div class="col-15">Reason</div></div><div ng-repeat="expense in expenses" class="body-row"><div class="col-4">{{expense.date | date:\'dd MMM yyyy\'}}</div><div class="col-4 figures">{{expense.amount | currency:"&pound;"}}</div><div class="col-2 figures">{{expense.vat | currency:"&pound;"}}</div><div class="col-15">{{expense.reason}}</div></div></div></div>')}])},{}]},{},[1]);
//# sourceMappingURL=../maps/codingtest.min.js.map
