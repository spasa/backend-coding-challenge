{"version":3,"sources":["../../node_modules/browser-pack/_prelude.js","js/apps/codingtest/codingtest-main.js","js/apps/codingtest/expenses/expenses-controller.js","js/apps/codingtest/expenses/main.js","js/apps/codingtest/partials.js"],"names":[],"mappings":"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","file":"../backend-coding-challenge/codingtest.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\"use strict\";\n\n/******************************************************************************************\n\nAlchemytec Coding Test for Expenses Back End\n\n******************************************************************************************/\n\n// App files\nrequire(\"./partials.js\");\nrequire(\"./expenses/main.js\");\n\n// Declare app level module which depends on filters, and services\nvar app = angular.module(\"alcExpenses\", [\n\t\"alcShared\",\n\t\"codingtest.partials\",\n\t\"expenses.controllers\"\n]);\n\napp.run([\"$rootScope\", function($rootScope) {\n\t// Basic config options\n\tvar gulpBuildConfig = {};\n\t$rootScope.config = angular.extend({ angular: angular.version.full }, gulpBuildConfig);\n\n\t// Headings used by the menu bars\n\t$rootScope.mainTitle = \"\";\n\t$rootScope.mainHeading = \"\";\n\n\t// Sections of content are used for bookmark navigation\n\t$rootScope.contentSections = [];\n\n\t// App sections are distinct areas of the website\n\t// These will ultimately be retrieved from the server\n\t$rootScope.appSections = $rootScope.appSections || [];\n\n\t// Initialise tab sections\n\t$rootScope.tabSections = $rootScope.tabSections || {};\n\t$rootScope.currentSection = [];\n\t$rootScope.selectTabSection = function(currentSection, selectedIndex) {\n\t\tif ($rootScope.tabSections[currentSection]) {\n\t\t\t$rootScope.currentSection = angular.copy($rootScope.tabSections[currentSection]);\n\n\t\t\tfor (var u = 0; u < $rootScope.currentSection.length; u++) {\n\t\t\t\tif (u == selectedIndex)\n\t\t\t\t\t$rootScope.currentSection[u].active = true;\n\t\t\t\telse\n\t\t\t\t\t$rootScope.currentSection[u].active = false;\n\t\t\t}\n\t\t}\n\t};\n}]);\n\n// Bootstrap the app\n$(document).ready(function() {\n\tangular.bootstrap(\"body\", [\"alcExpenses\"]);\n});\n","\"use strict\";\n\n/******************************************************************************************\n\nExpenses controller\n\n******************************************************************************************/\n\nvar app = angular.module(\"expenses.controller\", []);\n\napp.controller(\"ctrlExpenses\", [\"$rootScope\", \"$scope\", \"config\", \"restalchemy\", function ExpensesCtrl($rootScope, $scope, $config, $restalchemy) {\n\t// Update the headings\n\t$rootScope.mainTitle = \"Expenses\";\n\t$rootScope.mainHeading = \"Expenses\";\n\n\t// Update the tab sections\n\t$rootScope.selectTabSection(\"expenses\", 0);\n\n\tvar restExpenses = $restalchemy.init({ root: $config.apiroot }).at(\"expenses\");\n\n\t$scope.dateOptions = {\n\t\tchangeMonth: true,\n\t\tchangeYear: true,\n\t\tdateFormat: \"dd/mm/yy\"\n\t};\n\n\tvar loadExpenses = function() {\n\t\t// Retrieve a list of expenses via REST\n\t\trestExpenses.get().then(function(expenses) {\n\t\t\t$scope.expenses = expenses;\n\t\t});\n\t}\n\n\t$scope.saveExpense = function() {\n\t\tif ($scope.expensesform.$valid) {\n\t\t\t// Post the expense via REST\n\t\t\trestExpenses.post($scope.newExpense).then(function() {\n\t\t\t\t// Reload new expenses list\n\t\t\t\tloadExpenses();\n\t\t\t});\n\t\t}\n\t};\n\n\t$scope.clearExpense = function() {\n\t\t$scope.newExpense = {};\n\t};\n\n\t// Initialise scope variables\n\tloadExpenses();\n\t$scope.clearExpense();\n}]);\n","\"use strict\";\n\n/******************************************************************************************\n\nTasks main\n\n******************************************************************************************/\n\nrequire(\"./expenses-controller.js\");\n\nvar app = angular.module(\"expenses.controllers\", [\n\t\"expenses.controller\"\n]);\n\napp.config([\"$routeProvider\", function($routeProvider) {\n\t// Labour analysis routes\n\t$routeProvider.when(\"/expenses\", { templateUrl: \"codingtest/expenses-content.html\" });\n\n\t$routeProvider.otherwise({redirectTo: \"/expenses\"});\n}]);\n\napp.run([\"$rootScope\", function($rootScope) {\n\t// Add app button\n\t$rootScope.appSections = $rootScope.appSections || [];\n\t$rootScope.appSections.push({ title: \"Expenses\", image: \"img/icon-generic.png\", app: \"expenses\" });\n\n\t// Configure tab sections\n\t$rootScope.tabSections = $rootScope.tabSections || {};\n\t$rootScope.tabSections.expenses = [\n\t\t{ title: \"Expenses\", app: \"expenses\" }\n\t];\n}]);\n","angular.module(\"codingtest.partials\",[]).run([\"$templateCache\",function(e){e.put(\"codingtest/expenses-content.html\",'<div ng-controller=\"ctrlExpenses\"><h2>Expenses</h2><div bookmarklist id=\"bookmarks\" class=\"section-list\"></div><h3>Add an expense</h3><form name=\"expensesform\"><ul><li><label>Date</label><input type=\"text\" ng-required=\"true\" ng-model=\"newExpense.date\" ui-date=\"dateOptions\" placeholder=\"dd/mm/yyyy\"></li><li><label>Amount</label><input type=\"text\" ng-required=\"true\" ng-model=\"newExpense.amount\" placeholder=\"00.00\"></li><li><label>Reason</label><textarea at-auto-resize ng-required=\"true\" ng-model=\"newExpense.reason\" ng-trim=\"false\" placeholder=\"why oh why?\"></textarea></li><li><label></label><button ng-click=\"saveExpense()\" class=\"solid\">Save Expense</button> <button ng-click=\"clearExpense()\">cancel</button></li></ul></form><h3>Submitted expenses</h3><div class=\"list-table expenses-data\"><div class=\"header-row\"><div class=\"col-4\">Date</div><div class=\"col-4 figures\">Amount (inc. VAT)</div><div class=\"col-2 figures\">VAT</div><div class=\"col-15\">Reason</div></div><div ng-repeat=\"expense in expenses\" class=\"body-row\"><div class=\"col-4\">{{expense.date | date:\\'dd MMM yyyy\\'}}</div><div class=\"col-4 figures\">{{expense.amount | currency:\"&pound;\"}}</div><div class=\"col-2 figures\">{{expense.vat | currency:\"&pound;\"}}</div><div class=\"col-15\">{{expense.reason}}</div></div></div></div>')}]);"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqcy9hcHBzL2NvZGluZ3Rlc3QvY29kaW5ndGVzdC1tYWluLmpzIiwianMvYXBwcy9jb2Rpbmd0ZXN0L2V4cGVuc2VzL2V4cGVuc2VzLWNvbnRyb2xsZXIuanMiLCJqcy9hcHBzL2NvZGluZ3Rlc3QvZXhwZW5zZXMvbWFpbi5qcyIsImpzL2FwcHMvY29kaW5ndGVzdC9wYXJ0aWFscy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBOztBQUVBOzs7Ozs7QUFNQTs7QUFDQSxRQUFRLGVBQVI7QUFDQSxRQUFRLG9CQUFSOztBQUVBO0FBQ0EsSUFBSSxNQUFNLFFBQVEsTUFBUixDQUFlLGFBQWYsRUFBOEIsQ0FDdkMsV0FEdUMsRUFFdkMscUJBRnVDLEVBR3ZDLHNCQUh1QyxDQUE5QixDQUFWOztBQU1BLElBQUksR0FBSixDQUFRLENBQUMsWUFBRCxFQUFlLFVBQVMsVUFBVCxFQUFxQjtBQUMzQztBQUNBLEtBQUksa0JBQWtCLEVBQXRCO0FBQ0EsWUFBVyxNQUFYLEdBQW9CLFFBQVEsTUFBUixDQUFlLEVBQUUsU0FBUyxRQUFRLE9BQVIsQ0FBZ0IsSUFBM0IsRUFBZixFQUFrRCxlQUFsRCxDQUFwQjs7QUFFQTtBQUNBLFlBQVcsU0FBWCxHQUF1QixFQUF2QjtBQUNBLFlBQVcsV0FBWCxHQUF5QixFQUF6Qjs7QUFFQTtBQUNBLFlBQVcsZUFBWCxHQUE2QixFQUE3Qjs7QUFFQTtBQUNBO0FBQ0EsWUFBVyxXQUFYLEdBQXlCLFdBQVcsV0FBWCxJQUEwQixFQUFuRDs7QUFFQTtBQUNBLFlBQVcsV0FBWCxHQUF5QixXQUFXLFdBQVgsSUFBMEIsRUFBbkQ7QUFDQSxZQUFXLGNBQVgsR0FBNEIsRUFBNUI7QUFDQSxZQUFXLGdCQUFYLEdBQThCLFVBQVMsY0FBVCxFQUF5QixhQUF6QixFQUF3QztBQUNyRSxNQUFJLFdBQVcsV0FBWCxDQUF1QixjQUF2QixDQUFKLEVBQTRD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QXlCLFdBQVcsV0FBWCxJQUEwQixFQUFuRDtBQUNBLFlBQVcsV0FBWCxDQUF1QixRQUF2QixHQUFrQyxDQUNqQyxFQUFFLE9BQU8sVUFBVCxFQUFxQixLQUFLLFVBQTFCLEVBRGlDLENBQWxDO0FBR0EsQ0FWTyxDQUFSOzs7OztBQ3JCQSxRQUFRLE1BQVIsQ0FBZSxxQkFBZixFQUFxQyxFQUFyQyxFQUF5QyxHQUF6QyxDQUE2QyxDQUFDLGdCQUFELEVBQWtCLFVBQVMsQ0FBVCxFQUFXO0FBQUMsSUFBRSxHQUFGLENBQU0sa0NBQU4sRUFBeUMsZ3hDQUF6QztBQUEyekMsQ0FBejFDLENBQTdDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIlwidXNlIHN0cmljdFwiO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbkFsY2hlbXl0ZWMgQ29kaW5nIFRlc3QgZm9yIEV4cGVuc2VzIEJhY2sgRW5kXG5cbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLy8gQXBwIGZpbGVzXG5yZXF1aXJlKFwiLi9wYXJ0aWFscy5qc1wiKTtcbnJlcXVpcmUoXCIuL2V4cGVuc2VzL21haW4uanNcIik7XG5cbi8vIERlY2xhcmUgYXBwIGxldmVsIG1vZHVsZSB3aGljaCBkZXBlbmRzIG9uIGZpbHRlcnMsIGFuZCBzZXJ2aWNlc1xudmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKFwiYWxjRXhwZW5zZXNcIiwgW1xuXHRcImFsY1NoYXJlZFwiLFxuXHRcImNvZGluZ3Rlc3QucGFydGlhbHNcIixcblx0XCJleHBlbnNlcy5jb250cm9sbGVyc1wiXG5dKTtcblxuYXBwLnJ1bihbXCIkcm9vdFNjb3BlXCIsIGZ1bmN0aW9uKCRyb290U2NvcGUpIHtcblx0Ly8gQmFzaWMgY29uZmlnIG9wdGlvbnNcblx0dmFyIGd1bHBCdWlsZENvbmZpZyA9IHt9O1xuXHQkcm9vdFNjb3BlLmNvbmZpZyA9IGFuZ3VsYXIuZXh0ZW5kKHsgYW5ndWxhcjogYW5ndWxhci52ZXJzaW9uLmZ1bGwgfSwgZ3VscEJ1aWxkQ29uZmlnKTtcblxuXHQvLyBIZWFkaW5ncyB1c2VkIGJ5IHRoZSBtZW51IGJhcnNcblx0JHJvb3RTY29wZS5tYWluVGl0bGUgPSBcIlwiO1xuXHQkcm9vdFNjb3BlLm1haW5IZWFkaW5nID0gXCJcIjtcblxuXHQvLyBTZWN0aW9ucyBvZiBjb250ZW50IGFyZSB1c2VkIGZvciBib29rbWFyayBuYXZpZ2F0aW9uXG5cdCRyb290U2NvcGUuY29udGVudFNlY3Rpb25zID0gW107XG5cblx0Ly8gQXBwIHNlY3Rpb25zIGFyZSBkaXN0aW5jdCBhcmVhcyBvZiB0aGUgd2Vic2l0ZVxuXHQvLyBUaGVzZSB3aWxsIHVsdGltYXRlbHkgYmUgcmV0cmlldmVkIGZyb20gdGhlIHNlcnZlclxuXHQkcm9vdFNjb3BlLmFwcFNlY3Rpb25zID0gJHJvb3RTY29wZS5hcHBTZWN0aW9ucyB8fCBbXTtcblxuXHQvLyBJbml0aWFsaXNlIHRhYiBzZWN0aW9uc1xuXHQkcm9vdFNjb3BlLnRhYlNlY3Rpb25zID0gJHJvb3RTY29wZS50YWJTZWN0aW9ucyB8fCB7fTtcblx0JHJvb3RTY29wZS5jdXJyZW50U2VjdGlvbiA9IFtdO1xuXHQkcm9vdFNjb3BlLnNlbGVjdFRhYlNlY3Rpb24gPSBmdW5jdGlvbihjdXJyZW50U2VjdGlvbiwgc2VsZWN0ZWRJbmRleCkge1xuXHRcdGlmICgkcm9vdFNjb3BlLnRhYlNlY3Rpb25zW2N1cnJlbnRTZWN0aW9uXSkge1xuXHRcdFx0JHJvb3RTY29wZS5jdXJyZW50U2VjdGlvbiA9IGFuZ3VsYXIuY29weSgkcm9vdFNjb3BlLnRhYlNlY3Rpb25zW2N1cnJlbnRTZWN0aW9uXSk7XG5cblx0XHRcdGZvciAodmFyIHUgPSAwOyB1IDwgJHJvb3RTY29wZS5jdXJyZW50U2VjdGlvbi5sZW5ndGg7IHUrKykge1xuXHRcdFx0XHRpZiAodSA9PSBzZWxlY3RlZEluZGV4KVxuXHRcdFx0XHRcdCRyb290U2NvcGUuY3VycmVudFNlY3Rpb25bdV0uYWN0aXZlID0gdHJ1ZTtcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdCRyb290U2NvcGUuY3VycmVudFNlY3Rpb25bdV0uYWN0aXZlID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufV0pO1xuXG4vLyBCb290c3RyYXAgdGhlIGFwcFxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG5cdGFuZ3VsYXIuYm9vdHN0cmFwKFwiYm9keVwiLCBbXCJhbGNFeHBlbnNlc1wiXSk7XG59KTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbkV4cGVuc2VzIGNvbnRyb2xsZXJcblxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG52YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoXCJleHBlbnNlcy5jb250cm9sbGVyXCIsIFtdKTtcblxuYXBwLmNvbnRyb2xsZXIoXCJjdHJsRXhwZW5zZXNcIiwgW1wiJHJvb3RTY29wZVwiLCBcIiRzY29wZVwiLCBcImNvbmZpZ1wiLCBcInJlc3RhbGNoZW15XCIsIGZ1bmN0aW9uIEV4cGVuc2VzQ3RybCgkcm9vdFNjb3BlLCAkc2NvcGUsICRjb25maWcsICRyZXN0YWxjaGVteSkge1xuXHQvLyBVcGRhdGUgdGhlIGhlYWRpbmdzXG5cdCRyb290U2NvcGUubWFpblRpdGxlID0gXCJFeHBlbnNlc1wiO1xuXHQkcm9vdFNjb3BlLm1haW5IZWFkaW5nID0gXCJFeHBlbnNlc1wiO1xuXG5cdC8vIFVwZGF0ZSB0aGUgdGFiIHNlY3Rpb25zXG5cdCRyb290U2NvcGUuc2VsZWN0VGFiU2VjdGlvbihcImV4cGVuc2VzXCIsIDApO1xuXG5cdHZhciByZXN0RXhwZW5zZXMgPSAkcmVzdGFsY2hlbXkuaW5pdCh7IHJvb3Q6ICRjb25maWcuYXBpcm9vdCB9KS5hdChcImV4cGVuc2VzXCIpO1xuXG5cdCRzY29wZS5kYXRlT3B0aW9ucyA9IHtcblx0XHRjaGFuZ2VNb250aDogdHJ1ZSxcblx0XHRjaGFuZ2VZZWFyOiB0cnVlLFxuXHRcdGRhdGVGb3JtYXQ6IFwiZGQvbW0veXlcIlxuXHR9O1xuXG5cdHZhciBsb2FkRXhwZW5zZXMgPSBmdW5jdGlvbigpIHtcblx0XHQvLyBSZXRyaWV2ZSBhIGxpc3Qgb2YgZXhwZW5zZXMgdmlhIFJFU1Rcblx0XHRyZXN0RXhwZW5zZXMuZ2V0KCkudGhlbihmdW5jdGlvbihleHBlbnNlcykge1xuXHRcdFx0JHNjb3BlLmV4cGVuc2VzID0gZXhwZW5zZXM7XG5cdFx0fSk7XG5cdH1cblxuXHQkc2NvcGUuc2F2ZUV4cGVuc2UgPSBmdW5jdGlvbigpIHtcblx0XHRpZiAoJHNjb3BlLmV4cGVuc2VzZm9ybS4kdmFsaWQpIHtcblx0XHRcdC8vIFBvc3QgdGhlIGV4cGVuc2UgdmlhIFJFU1Rcblx0XHRcdHJlc3RFeHBlbnNlcy5wb3N0KCRzY29wZS5uZXdFeHBlbnNlKS50aGVuKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQvLyBSZWxvYWQgbmV3IGV4cGVuc2VzIGxpc3Rcblx0XHRcdFx0bG9hZEV4cGVuc2VzKCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH07XG5cblx0JHNjb3BlLmNsZWFyRXhwZW5zZSA9IGZ1bmN0aW9uKCkge1xuXHRcdCRzY29wZS5uZXdFeHBlbnNlID0ge307XG5cdH07XG5cblx0Ly8gSW5pdGlhbGlzZSBzY29wZSB2YXJpYWJsZXNcblx0bG9hZEV4cGVuc2VzKCk7XG5cdCRzY29wZS5jbGVhckV4cGVuc2UoKTtcbn1dKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cblRhc2tzIG1haW5cblxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5yZXF1aXJlKFwiLi9leHBlbnNlcy1jb250cm9sbGVyLmpzXCIpO1xuXG52YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoXCJleHBlbnNlcy5jb250cm9sbGVyc1wiLCBbXG5cdFwiZXhwZW5zZXMuY29udHJvbGxlclwiXG5dKTtcblxuYXBwLmNvbmZpZyhbXCIkcm91dGVQcm92aWRlclwiLCBmdW5jdGlvbigkcm91dGVQcm92aWRlcikge1xuXHQvLyBMYWJvdXIgYW5hbHlzaXMgcm91dGVzXG5cdCRyb3V0ZVByb3ZpZGVyLndoZW4oXCIvZXhwZW5zZXNcIiwgeyB0ZW1wbGF0ZVVybDogXCJjb2Rpbmd0ZXN0L2V4cGVuc2VzLWNvbnRlbnQuaHRtbFwiIH0pO1xuXG5cdCRyb3V0ZVByb3ZpZGVyLm90aGVyd2lzZSh7cmVkaXJlY3RUbzogXCIvZXhwZW5zZXNcIn0pO1xufV0pO1xuXG5hcHAucnVuKFtcIiRyb290U2NvcGVcIiwgZnVuY3Rpb24oJHJvb3RTY29wZSkge1xuXHQvLyBBZGQgYXBwIGJ1dHRvblxuXHQkcm9vdFNjb3BlLmFwcFNlY3Rpb25zID0gJHJvb3RTY29wZS5hcHBTZWN0aW9ucyB8fCBbXTtcblx0JHJvb3RTY29wZS5hcHBTZWN0aW9ucy5wdXNoKHsgdGl0bGU6IFwiRXhwZW5zZXNcIiwgaW1hZ2U6IFwiaW1nL2ljb24tZ2VuZXJpYy5wbmdcIiwgYXBwOiBcImV4cGVuc2VzXCIgfSk7XG5cblx0Ly8gQ29uZmlndXJlIHRhYiBzZWN0aW9uc1xuXHQkcm9vdFNjb3BlLnRhYlNlY3Rpb25zID0gJHJvb3RTY29wZS50YWJTZWN0aW9ucyB8fCB7fTtcblx0JHJvb3RTY29wZS50YWJTZWN0aW9ucy5leHBlbnNlcyA9IFtcblx0XHR7IHRpdGxlOiBcIkV4cGVuc2VzXCIsIGFwcDogXCJleHBlbnNlc1wiIH1cblx0XTtcbn1dKTtcbiIsImFuZ3VsYXIubW9kdWxlKFwiY29kaW5ndGVzdC5wYXJ0aWFsc1wiLFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIixmdW5jdGlvbihlKXtlLnB1dChcImNvZGluZ3Rlc3QvZXhwZW5zZXMtY29udGVudC5odG1sXCIsJzxkaXYgbmctY29udHJvbGxlcj1cImN0cmxFeHBlbnNlc1wiPjxoMj5FeHBlbnNlczwvaDI+PGRpdiBib29rbWFya2xpc3QgaWQ9XCJib29rbWFya3NcIiBjbGFzcz1cInNlY3Rpb24tbGlzdFwiPjwvZGl2PjxoMz5BZGQgYW4gZXhwZW5zZTwvaDM+PGZvcm0gbmFtZT1cImV4cGVuc2VzZm9ybVwiPjx1bD48bGk+PGxhYmVsPkRhdGU8L2xhYmVsPjxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLXJlcXVpcmVkPVwidHJ1ZVwiIG5nLW1vZGVsPVwibmV3RXhwZW5zZS5kYXRlXCIgdWktZGF0ZT1cImRhdGVPcHRpb25zXCIgcGxhY2Vob2xkZXI9XCJkZC9tbS95eXl5XCI+PC9saT48bGk+PGxhYmVsPkFtb3VudDwvbGFiZWw+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctcmVxdWlyZWQ9XCJ0cnVlXCIgbmctbW9kZWw9XCJuZXdFeHBlbnNlLmFtb3VudFwiIHBsYWNlaG9sZGVyPVwiMDAuMDBcIj48L2xpPjxsaT48bGFiZWw+UmVhc29uPC9sYWJlbD48dGV4dGFyZWEgYXQtYXV0by1yZXNpemUgbmctcmVxdWlyZWQ9XCJ0cnVlXCIgbmctbW9kZWw9XCJuZXdFeHBlbnNlLnJlYXNvblwiIG5nLXRyaW09XCJmYWxzZVwiIHBsYWNlaG9sZGVyPVwid2h5IG9oIHdoeT9cIj48L3RleHRhcmVhPjwvbGk+PGxpPjxsYWJlbD48L2xhYmVsPjxidXR0b24gbmctY2xpY2s9XCJzYXZlRXhwZW5zZSgpXCIgY2xhc3M9XCJzb2xpZFwiPlNhdmUgRXhwZW5zZTwvYnV0dG9uPiA8YnV0dG9uIG5nLWNsaWNrPVwiY2xlYXJFeHBlbnNlKClcIj5jYW5jZWw8L2J1dHRvbj48L2xpPjwvdWw+PC9mb3JtPjxoMz5TdWJtaXR0ZWQgZXhwZW5zZXM8L2gzPjxkaXYgY2xhc3M9XCJsaXN0LXRhYmxlIGV4cGVuc2VzLWRhdGFcIj48ZGl2IGNsYXNzPVwiaGVhZGVyLXJvd1wiPjxkaXYgY2xhc3M9XCJjb2wtNFwiPkRhdGU8L2Rpdj48ZGl2IGNsYXNzPVwiY29sLTQgZmlndXJlc1wiPkFtb3VudCAoaW5jLiBWQVQpPC9kaXY+PGRpdiBjbGFzcz1cImNvbC0yIGZpZ3VyZXNcIj5WQVQ8L2Rpdj48ZGl2IGNsYXNzPVwiY29sLTE1XCI+UmVhc29uPC9kaXY+PC9kaXY+PGRpdiBuZy1yZXBlYXQ9XCJleHBlbnNlIGluIGV4cGVuc2VzXCIgY2xhc3M9XCJib2R5LXJvd1wiPjxkaXYgY2xhc3M9XCJjb2wtNFwiPnt7ZXhwZW5zZS5kYXRlIHwgZGF0ZTpcXCdkZCBNTU0geXl5eVxcJ319PC9kaXY+PGRpdiBjbGFzcz1cImNvbC00IGZpZ3VyZXNcIj57e2V4cGVuc2UuYW1vdW50IHwgY3VycmVuY3k6XCImcG91bmQ7XCJ9fTwvZGl2PjxkaXYgY2xhc3M9XCJjb2wtMiBmaWd1cmVzXCI+e3tleHBlbnNlLnZhdCB8IGN1cnJlbmN5OlwiJnBvdW5kO1wifX08L2Rpdj48ZGl2IGNsYXNzPVwiY29sLTE1XCI+e3tleHBlbnNlLnJlYXNvbn19PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+Jyl9XSk7Il19"}